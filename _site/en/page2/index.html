<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
  <script src="/vr/public/lib/leaflet-ajax/dist/leaflet.ajax.min.js"></script>
  <script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v0.0.2/Leaflet.fullscreen.min.js'></script>
  <link href='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v0.0.2/leaflet.fullscreen.css' rel='stylesheet' />
  <script src="/vr/public/lib/leaflet-gpx/gpx.js"></script>
  



<!-- Facebook tags -->
<meta property="og:title" content="Home">
<meta property="og:type" content="website">
<meta property="og:url" content="http://localhost:4000/vr/en/page2//">
<meta property="og:image" content="http://localhost:4000/vr/public/images/me_hires.png">
<meta property="og:description" content="">
<meta property="og:site_name" content="Vitaly Repin">
<meta property="og:locale" content="en_US">



<meta property="fb:admins" content="606660677">
<!-- <meta property="fb:app_id" content=""> -->


  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Vitaly Repin &middot; Sapere aude!
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/vr/public/css/poole.css">
  <link rel="stylesheet" href="/vr/public/css/syntax.css">
  <link rel="stylesheet" href="/vr/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/vr/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/vr/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/vr/about">About</a>
    <a class="sidebar-nav-item" href="/vr/hobbies">Hobby projects</a>
    <a class="sidebar-nav-item" href="/vr/tags">Tags</a>
    <a class="sidebar-nav-item" href="/vr/atom.xml">Feed</a>
    <a class="sidebar-nav-item" href="/vr/">Latest posts</a>

  <ul class="posts">  
	  
	   <li>  
		   <span>14 Apr 2016</span> &raquo;  
		   <a href="/vr/DigitalFree-Moddle/">  
		   Course "On the Road to the Free Digital Society" is available in Moodle and IMS Common Cartridge formats now</a>  
	   </li>  
	  
	   <li>  
		   <span>04 Apr 2016</span> &raquo;  
		   <a href="/vr/Kekkonen-Estonia-1964/">  
		   Визит президента Финляндии Кекконена в Эстонию в 1964 году</a>  
	   </li>  
	  
	   <li>  
		   <span>06 Feb 2016</span> &raquo;  
		   <a href="/vr/Logstash-filter-external-script/">  
		   How to incorporate external utility scripts into Logstash Pipeline</a>  
	   </li>  
	  
	   <li>  
		   <span>18 Sep 2015</span> &raquo;  
		   <a href="/vr/CopyrightedMonumentsFinland/">  
		   Copyrighted monuments in Finland. Why Finnish works of art are not widely represented in Wikipedia</a>  
	   </li>  
	  
	   <li>  
		   <span>04 Sep 2015</span> &raquo;  
		   <a href="/vr/Tour-de-Helsinki-2015/">  
		   Tour de Helsinki 2015. Nybörjares intryck från cykelloppet</a>  
	   </li>  
	  
	   <li>  
		   <span>03 Sep 2015</span> &raquo;  
		   <a href="/vr/Android-InsufficientSpace/">  
		   Fixing annoying Android's 'insufficient storage available' issue</a>  
	   </li>  
	  
	   <li>  
		   <span>05 Aug 2015</span> &raquo;  
		   <a href="/vr/Abo-skargard/">  
		   Åbo omnejd. Skärgårdens ringväg med cykel / Saariston Rengastie</a>  
	   </li>  
	  
	   <li>  
		   <span>30 Jul 2015</span> &raquo;  
		   <a href="/vr/IPsec-PacketLeakage/">  
		   [ipsec, iptables, ebtables] How to avoid leakage of packets addressed to/from private IP space</a>  
	   </li>  
	  
	   <li>  
		   <span>09 Jul 2015</span> &raquo;  
		   <a href="/vr/JekyllDeploy/">  
		   How to automatically deploy static web site to the hosting</a>  
	   </li>  
	  
	   <li>  
		   <span>07 Jul 2015</span> &raquo;  
		   <a href="/vr/Bagehot-ECB/">  
		   Is ECB really enemy of the euro? More on Bagehot's rule</a>  
	   </li>  
	  
	   <li>  
		   <span>29 Jun 2015</span> &raquo;  
		   <a href="/vr/JekyllMeta/">  
		   Jekyll: how to add metadata to your site</a>  
	   </li>  
	  
	   <li>  
		   <span>29 Jun 2015</span> &raquo;  
		   <a href="/vr/DisqusAddComments/">  
		   Blog comments = Disqus + Jekyll</a>  
	   </li>  
	  
	   <li>  
		   <span>24 Jun 2015</span> &raquo;  
		   <a href="/vr/Tagging/">  
		   How to implement proper blog tagging with Jekyll</a>  
	   </li>  
	  
	   <li>  
		   <span>23 Jun 2015</span> &raquo;  
		   <a href="/vr/Jekyll-is-cool/">  
		   Jekyll is cool</a>  
	   </li>  
	  
   </ul>

    

 
    
    
      
        
      
    
      
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
        
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">The content of this site </span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://vrepin.org/blog" property="cc:attributionName" rel="cc:attributionURL">Vitaly Repin</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>,
	  <time datetime="2017-02-12T05:19:33+02:00">2017</time>.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">

        <div class="container">
 <h3 class="masthead-title">
          <h3 class="masthead-title">
            <a href="/vr/" title="Home">Vitaly Repin</a>
            <small>
	
  &nbsp;&nbsp;&nbsp;
  <small><a href="/vr/about/">About</a></small>

  &nbsp;&nbsp;&nbsp;
  <small><a href="/vr/hobbies/">Hobby projects</a></small>

  &nbsp;&nbsp;&nbsp;
  <small><a href="/vr/tags/">Tags</a></small>

  &nbsp;&nbsp;&nbsp;
  <small><a href="/vr/atom.xml">Feed</a></small>

	   </small>
	</h3>
        <h3 class="masthead-title">
           <small>
	     <a href="http://localhost:4000/vr/en">English</a>
	     <a href="http://localhost:4000/vr/sv">Svenska</a>
	     <a href="http://localhost:4000/vr/ru">Русский</a>
	   </small>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/vr/IPsec-PacketLeakage/">
        [ipsec, iptables, ebtables] How to avoid leakage of packets addressed to/from private IP space
      </a>
    </h1>

    <time datetime="2015-07-30T00:00:00+03:00" class="post-date">30 Jul 2015</time>

    <h1>Background</h1>

<p>I&#39;ve been asked by <a href="https://seed4.me/">SEED4.ME VPN</a> to investigate the package leakaging issue in their environment raised after delivering new VPN features for Apple devices.</p>

<p>We&#39;ve agreed that we do want not only to solve this particular problem with Apple IPsec, but
<em>to build a fence system which can completely eliminate any packet leaking problems in future caused by any bug, feature, misconfiguration etc.</em></p>

<p>I hope results of this small project can be useful for other engineers facing similar challenges.</p>

<h1>Problem: packet leakage</h1>

<p>Packets belonging to <a href="http://en.wikipedia.org/wiki/Private_network">private IP address space</a> shall not appear in the network interfaces which do not belong to private networks.</p>

<p>Typical example is VPS hosted in the cloud. If it sends packets addressed to private IP address space through its external NIC, it usually means that something wrong is happening.
More providers started to implement <a href="http://www.bcp38.info/index.php/Main_Page">BCP38</a> RFC for defeating  Denial of Service Attacks which employ IP Source Address Spoofing.
They block such packets and complain to VPS administrators.</p>

<p>However, <a href="http://en.wikipedia.org/wiki/List_of_Latin_phrases_%28E%29#errare_humanum_est"><em>errare humanum est</em></a> &mdash; administrators are people too. Typical cases are <a href="http://www.smythies.com/%7Edoug/network/iptables_notes/index.html">NAT</a>- and <a href="http://marc.info/?l=netfilter&m=143654558816715&w=2">IPsec</a>-related.</p>

<p>This article describes <a href="https://en.wikipedia.org/wiki/Defense_in_depth_%28computing%29">Castle Approach</a> to this problem. An idea is simple:</p>

<ol>
<li>Leaked packets are filtered by Linux firewall (netfilter iptables)</li>
<li>If packets are not filtered by Linux firewall, they are filtered by Linux ethernet bridging firewall (netfilter ebtables). In the same time, they are logged and became visible to the monitoring system</li>
</ol>

    
    
    
    <p><a class="btn btn-sm btn-primary" href="/vr/IPsec-PacketLeakage//#read-more" role="button">Read more <i class="fa fa-arrow-circle-right"></i></a>
    </p>
    

    







<a href="/vr/tag/ebtables">#ebtables</a>

<a href="/vr/tag/firewall">#firewall</a>

<a href="/vr/tag/iptables">#iptables</a>

<a href="/vr/tag/linux">#linux</a>

<a href="/vr/tag/vpn">#vpn</a>





  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/vr/JekyllDeploy/">
        How to automatically deploy static web site to the hosting
      </a>
    </h1>

    <time datetime="2015-07-09T00:00:00+03:00" class="post-date">09 Jul 2015</time>

    <h1>The problem: publishing your web site efficiently</h1>

<p>When web site is updated on a regular basis (as it happens with blogs)  it becomes important to automate the process of uploading site to the hosting. Using cpanel or FTP is boring and
time-consuming. </p>

<p>The goal is to be able to sync the static-generated content (e.g., <em>_site</em> directory generated by <a href="http://jekyllrb.com/">Jekyll</a>) with just one command. My post refers to <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://www.hostgator.com/">hostgator</a> but the
methods suggested are not limited to these platforms &mdash; they are applicable to any static-generated web content.</p>

    
    
    
    <p><a class="btn btn-sm btn-primary" href="/vr/JekyllDeploy//#read-more" role="button">Read more <i class="fa fa-arrow-circle-right"></i></a>
    </p>
    

    







<a href="/vr/tag/blogging">#blogging</a>

<a href="/vr/tag/hostgator">#hostgator</a>

<a href="/vr/tag/hosting">#hosting</a>

<a href="/vr/tag/jekyll">#jekyll</a>





  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/vr/Bagehot-ECB/">
        Is ECB really enemy of the euro? More on Bagehot's rule
      </a>
    </h1>

    <time datetime="2015-07-07T00:00:00+03:00" class="post-date">07 Jul 2015</time>

    <h2>ECB did not follow Bagehot&#39;s rule</h2>

<p><a href="https://twitter.com/mesandbu">Martin Sandbu</a> criticizes ECB for its course of action in the weeks before voting in Greece <a href="https://d396qusza40orc.cloudfront.net/money2/Free%20Lunch_%20ECB%2C%20enemy%20of%20the%20euro_%20-%20FT.pdf">(Financial Times, July 6)</a>:</p>

<blockquote>
<p>Recall that the closure of Greece&#39;s banks was caused by the ECB&#39;s decision to do the opposite of what Walter Bagehot taught, which that to steam a bank run,
the central bank should lend against collateral that, but for the crisis, is solid. In Grece fearful people have wanted cash, but the banks have little cash left.
The normal course of action would be for the banks to get cash from the central bank, pledging their investments as security for the loan. But after Athens declared a referendum,
the ECB said no further such loans should (for now) be given.</p>
</blockquote>

<p>Martin&#39;s article has a plenty of interesting and valuable comments. However, in order to see bigger picture it makes sense to examine Bagehot&#39;s rule a little bit deeper.</p>

    
    
    
    <p><a class="btn btn-sm btn-primary" href="/vr/Bagehot-ECB//#read-more" role="button">Read more <i class="fa fa-arrow-circle-right"></i></a>
    </p>
    

    







<a href="/vr/tag/crisis">#crisis</a>

<a href="/vr/tag/finance">#finance</a>





  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/vr/JekyllMeta/">
        Jekyll: how to add metadata to your site
      </a>
    </h1>

    <time datetime="2015-06-29T00:00:00+03:00" class="post-date">29 Jun 2015</time>

    <p>You&#39;ve created web site with Jekyll and are trying to post links to the social network of your choice.  Oops! No summary appears under your link!
The reason is that the service needs metadata for the page.</p>

<blockquote>
<p>Meta data helps in a lot of ways. Sharing in social networks is just one example. Don&#39;t think that if you do not use social networks, your web site does not need meta data.</p>
</blockquote>

<p>I will summarize important meta tags and the ways to add them to Jekyll-based site.  If you have something to add &mdash; don&#39;t hesitate and leave your feedback in the comments, pls!</p>

    
    
    
    <p><a class="btn btn-sm btn-primary" href="/vr/JekyllMeta//#read-more" role="button">Read more <i class="fa fa-arrow-circle-right"></i></a>
    </p>
    

    







<a href="/vr/tag/blogging">#blogging</a>

<a href="/vr/tag/facebook">#facebook</a>

<a href="/vr/tag/jekyll">#jekyll</a>

<a href="/vr/tag/metadata">#metadata</a>





  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/vr/en/page3">Older</a>
  
  
    <a class="pagination-item newer" href="/vr">Newer</a>
  
</div>

<!-- Analytics begin -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67139587-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- Analytics end -->






<!-- Analytics begin -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67139587-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- Analytics end -->

 

 <footer class="footer">
 <small>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">The content of this page </span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://vrepin.org/" property="cc:attributionName" rel="cc:attributionURL">Vitaly Repin</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>,
	  <time datetime="2017-02-12T05:19:33+02:00">2017</time>.
	  </small>
</footer>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
